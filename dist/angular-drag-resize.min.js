angular.module("angular.drag.resize",[]).provider("adrConfig",function(){var i={iconPosition:[0,0],mode:"all",modes:["all","horizontal","vertical"]},e=angular.extend({},i);this.$get=[function(){return{iconPosition:e.iconPosition,mode:e.mode,modes:e.modes}}]}).directive("resize",["adrConfig","$document",function(i,e){return{restrict:"A",link:function(n,o,t){function s(i){var e=u.width-(c.x-i.clientX),n=u.height-(c.y-i.clientY),t={};return t="horizontal"==l?{width:e+"px"}:"vertical"==l?{height:n+"px"}:{width:e+"px",height:n+"px"},o.css(t),!1}function r(){e.unbind("mousemove",s),e.unbind("mouseup",r)}var u={},d=i.iconPosition,l=t.resize&&i.modes.indexOf(t.resize)>-1?t.resize:i.mode,c={},a=document.createElement("img");a.className="resize-icon",a.style.bottom=d[0]+"px",a.style.right=d[1]+"px",a.style.position="absolute",a.style.visibility="hidden","horizontal"==l?a.style.cursor="ew-resize":"vertical"==l?a.style.cursor="ns-resize":a.style.cursor="nwse-resize",a.onmousedown=function(i){return i.stopImmediatePropagation(),c.x=i.clientX,c.y=i.clientY,u.width=o.prop("offsetWidth"),u.height=o.prop("offsetHeight"),e.bind("mousemove",s),e.bind("mouseup",r),!1},o.append(a),o.bind("mouseover",function(){a.style.visibility="visible"}),o.bind("mouseout",function(){a.style.visibility="hidden"})}}}]).directive("draggable",["$document",function(i){return{restrict:"A",link:function(e,n){function o(i){var e=i.clientX-s.initialMouseX,o=i.clientY-s.initialMouseY;return n.css({top:s.y+o+"px",left:s.x+e+"px"}),!1}function t(){i.unbind("mousemove",o),i.unbind("mouseup",t)}var s={};n.bind("mousedown",function(e){return n.css({position:"fixed"}),s.x=n.prop("offsetLeft"),s.y=n.prop("offsetTop"),s.initialMouseX=e.clientX,s.initialMouseY=e.clientY,i.bind("mousemove",o),i.bind("mouseup",t),!1})}}}]);